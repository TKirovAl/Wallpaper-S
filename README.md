# Live Wallpaper Manager

Приложение для создания живых обоев на Windows с поддержкой видео, GIF, изображений и стримов.

## Функционал

- Статические обои из изображений (JPG, PNG, BMP)
- Живые обои из видео файлов (MP4, AVI, MKV, WMV, MOV, FLV, WebM)
- Анимированные обои из GIF файлов
- Стримы по HTTP/RTMP/RTSP
- Предварительный просмотр медиа
- Интуитивно понятный интерфейс
- Беспрерывное воспроизведение

## Требования

- Windows 10/11
- .NET 8.0
- Visual Studio 2022
- WebView2 Runtime

## Установка и запуск

1. Откройте проект в Visual Studio 2022
2. Восстановите NuGet пакеты
3. Соберите проект (Build > Build Solution)
4. Запустите приложение (F5 или Ctrl+F5)

## Использование

### Статические обои
1. Нажмите "Выбрать файл"
2. Выберите изображение
3. Нажмите "Установить обои"

### Живые обои
1. Выберите видео файл или GIF
2. Нажмите "Установить обои"
3. Для остановки нажмите "Остановить обои"

### Стримы
1. Введите URL стрима в поле
2. Нажмите "Загрузить стрим"
3. Нажмите "Установить обои"

## Поддерживаемые форматы

### Изображения
- JPG, JPEG
- PNG
- BMP
- TIFF

### Видео
- MP4
- AVI
- MKV
- WMV
- MOV
- FLV
- WebM

### Анимация
- GIF (анимированные)

### Стримы
- HTTP видео потоки
- RTMP стримы
- RTSP потоки

## Структура проекта

```
LiveWallpaperApp/
├── LiveWallpaperApp.csproj    # Файл проекта
├── app.manifest               # Манифест приложения
├── App.xaml                   # Конфигурация приложения
├── App.xaml.cs               # Код-behind приложения
├── MainWindow.xaml           # Главное окно
├── MainWindow.xaml.cs        # Логика главного окна
├── MediaPlayer.cs            # Плеер для живых обоев
├── WallpaperAPI.cs          # Windows API для обоев
└── README.md                # Документация
```

## Особенности реализации

### WallpaperAPI.cs
- Использует Windows API для установки статических обоев
- Интеграция с рабочим столом через WorkerW окно
- Поддержка различных режимов отображения

### MediaPlayer.cs
- Безоконный плеер для живых обоев
- Поддержка видео, GIF и веб-стримов
- Автоматическое зацикливание контента
- Интеграция с рабочим столом Windows

### MainWindow
- Современный Material Design интерфейс
- Предварительный просмотр медиа
- Drag & Drop поддержка (можно добавить)
- Статусная информация в реальном времени

## Возможные улучшения

- Поддержка Drag & Drop
- Настройки качества воспроизведения
- Планировщик смены обоев
- Плейлисты
- Системный трей
- Автозапуск с Windows
- Поддержка мультимониторных конфигураций

## Устранение проблем

### Обои не устанавливаются
- Запустите приложение от имени администратора
- Проверьте права доступа к файлам

### Видео не воспроизводится
- Установите K-Lite Codec Pack
- Проверьте поддержку формата

### Стримы не загружаются
- Проверьте интернет соединение
- Убедитесь в корректности URL
- Некоторые стримы могут требовать аутентификацию

## Лицензия

MIT License
